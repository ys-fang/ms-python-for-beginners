WEBVTT

00:00:04.850 --> 00:00:07.860
>> 讓我們來看看如何

00:00:07.860 --> 00:00:11.310
創建我們自己的"decorator"

00:00:11.310 --> 00:00:12.900
我已經先把

00:00:12.900 --> 00:00:14.970
程式碼打好了

00:00:14.970 --> 00:00:16.890
讓我們關注在

00:00:16.890 --> 00:00:19.485
程式執行的流程上

00:00:19.485 --> 00:00:22.520
這段簡短的程式碼中

00:00:22.520 --> 00:00:26.160
實際上在"decorator"被呼叫時

00:00:26.160 --> 00:00:30.450
會執行的程式碼是這一段

00:00:30.450 --> 00:00:32.820
我們要輸出幾行字到螢幕上

00:00:32.820 --> 00:00:35.655
"Logging execution"

00:00:35.655 --> 00:00:37.650
然後我們執行

00:00:37.650 --> 00:00:41.280
某個函數，在呼叫"decorator"
那一行之後的那個函數

00:00:41.280 --> 00:00:46.670
然後我們要再輸出一行：
"Done logging"

00:00:46.670 --> 00:00:50.740
這就實際上"decorator"
執行的過程

00:00:50.740 --> 00:00:54.350
下面則是使用
"decorator"的方法

00:00:54.350 --> 00:00:57.920
"@logger"，表示套用"logger"
"decorator"到下一行的函數

00:00:57.920 --> 00:01:01.265
所以下一行要宣告一個函數

00:01:01.265 --> 00:01:03.135
這個程式的最終結果

00:01:03.135 --> 00:01:06.120
會輸出
"Logging execution"

00:01:06.120 --> 00:01:09.770
然後，它會執行
"sample()"

00:01:09.770 --> 00:01:13.705
在這個例子中
它會輸出"-- Inside sample function"

00:01:13.705 --> 00:01:16.460
然後最後輸出

00:01:16.460 --> 00:01:19.460
"Done logging"

00:01:19.460 --> 00:01:23.825
好的，讓我們執行看看

00:01:23.825 --> 00:01:27.560
"python demos.py"

00:01:27.560 --> 00:01:32.465
按下"Enter"鍵

00:01:32.465 --> 00:01:35.120
這就是輸出的結果

00:01:35.120 --> 00:01:37.985
你會注意到總共有三行
"Logging execution"

00:01:37.985 --> 00:01:42.370
"-- Inside sample function"
以及"Done logging"

00:01:42.370 --> 00:01:46.520
好的，這就是
創建"decorator"的方法

00:01:46.520 --> 00:01:48.455
以及呼叫它的方法

00:01:48.455 --> 00:01:52.640
但最常用到"decorator"的狀況

00:01:52.640 --> 00:01:57.230
還是當你使用某個框架時
去使用其中的"decorator"

00:01:57.230 --> 00:01:59.060
如果你某一天

00:01:59.060 --> 00:02:02.360
真的需要創建自己的"decorator"

00:02:02.360 --> 00:02:07.820
那你可以回來參考這裡的範例

00:02:07.820 --> 00:02:12.230
好的，我們課程已接近尾聲

00:02:12.230 --> 00:02:15.140
我們已經介紹完
Python的基礎觀念

00:02:15.140 --> 00:02:19.230
我們會在下一單元為
這系列課程做個總結

